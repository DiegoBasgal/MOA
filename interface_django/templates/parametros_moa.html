{% extends "base.html" %}

{% block content %}
<h1>Parametros MOA</h1>
Página de configuraço dos parametros usados pelo MOA.

<form method='post' action='/parametros_moa/' style="margin-top: 40px;">
    {% csrf_token %}

    <div style="margin-bottom: 20px;">
        <b>Modo autonomo:</b><br>
        <input type="radio" id="modo_autonomo_ativado" name="modo_autonomo_ativado" value="True"
               {% if usina.modo_autonomo == True %}
               CHECKED
               {% endif %}/>
        <label for="True">Ativado</label>
        <input type="radio" id="modo_autonomo_ativado" name="modo_autonomo_ativado" value="False"
               {% if usina.modo_autonomo == False %}
               CHECKED
               {% endif %}/>
        <label for="False">Desativado</label>
    </div>

    <div style="margin-bottom: 20px;">
        <b>Priorização da partida e parada das Unidades de Geração:</b><br>
        <input type="radio" id="escolha_ugs" name="escolha_ugs" value="0"
               {% if escolha_ugs == 0 %}
               CHECKED
               {% endif %}/>
        <label for="0">Priorizar por horas-máquina</label>
        <input type="radio" id="escolha_ugs" name="escolha_ugs" value="1"
               {% if escolha_ugs == 1 %}
               CHECKED
               {% endif %}/>
        <label for="1">Priorizar a UG1</label>
        <input type="radio" id="escolha_ugs" name="escolha_ugs" value="2"
               {% if escolha_ugs == 2 %}
               CHECKED
               {% endif %}/>
        <label for="2">Priorizar a UG2</label>
    </div>

    <div style="margin-bottom: 20px;">
        <b>Nível Alvo: </b>
        <input id="nv_alvo" name="nv_alvo" size=4 value="{{usina.nv_alvo}}"/></td>
        <br>
        <br>
        <b>Pressão Caixa Espiral Alvo: </b>
        <input id="press_cx_alvo" name="press_cx_alvo" size=4 value="{{usina.press_cx_alvo}}"/></td>
        <label> (Parâmetro funcional apenas para operação sem comunicação com a TDA)</label>
        <br>
    </div>

    <div style="margin-bottom: 20px;">
        <b>Limites de perda na grade</b><br>
        <table style="text-align:center" border="solid 1px black">
            <tr>
                <th>Grade</th>
                <th>Alerta perda na grade</th>
                <th>Perda máxima na grade</th>
            </tr>
            <tr>
                <td>UG 1</td>
                <td><input id="alerta_perda_grade_ug1" name="alerta_perda_grade_ug1" size=10 value="{{usina.alerta_perda_grade_ug1}}"/></td>
                <td><input id="perda_grade_maxima_ug1" name="perda_grade_maxima_ug1" size=10 value="{{usina.perda_grade_maxima_ug1}}"/></td>
            </tr>
            <tr>
                <td>UG 2</td>
                <td><input id="alerta_perda_grade_ug2" name="alerta_perda_grade_ug2" size=10 value="{{usina.alerta_perda_grade_ug2}}"/></td>
                <td><input id="perda_grade_maxima_ug2" name="perda_grade_maxima_ug2" size=10 value="{{usina.perda_grade_maxima_ug2}}"/></td>
            </tr>
        </table>
        <br>
        <b>Temperaturas de operação do Transformador Elevador</b><br>
        <table style="text-align:center" border="solid 1px black">
            <tr>
                <th>Temperaturas</th>
                <th>Alerta</th>
                <th>Limite</th>
            </tr>
            <tr>
                <td>Óleo Trafo Elevador</td>
                <td><input id="alerta_temperatura_oleo_trafo" name="alerta_temperatura_oleo_trafo" size=10 value="{{usina.alerta_temperatura_oleo_trafo}}"/></td>
                <td><input id="limite_temperatura_oleo_trafo" name="limite_temperatura_oleo_trafo" size=10 value="{{usina.limite_temperatura_oleo_trafo}}"/></td>
            </tr>
            <tr>
                <td>Enrolamento Trafo Elevador</td>
                <td><input id="alerta_temperatura_enrolamento_trafo" name="alerta_temperatura_enrolamento_trafo" size=10 value="{{usina.alerta_temperatura_enrolamento_trafo}}"/></td>
                <td><input id="limite_temperatura_enrolamento_trafo" name="limite_temperatura_enrolamento_trafo" size=10 value="{{usina.limite_temperatura_enrolamento_trafo}}"/></td>
            </tr>
        </table>
        <br>
        <b>Temperaturas de operação das Unidades de Geração</b><br>
        <table style="text-align:center" border="solid 1px black">
            <tr>
                <th>Temperaturas</th>
                <th>UG1 Alerta</th>
                <th>UG1 Limite</th>
                <th>UG2 Alerta</th>
                <th>UG2 Limite</th>
            </tr>
            
            <tr>
                <td>Fase R</td>
                <td><input id="alerta_temperatura_fase_r_ug1" name="alerta_temperatura_fase_r_ug1" size=10 value="{{usina.alerta_temperatura_fase_r_ug1}}"/></td>
                <td><input id="limite_temperatura_fase_r_ug1" name="limite_temperatura_fase_r_ug1" size=10 value="{{usina.limite_temperatura_fase_r_ug1}}"/></td>
                <td><input id="alerta_temperatura_fase_r_ug2" name="alerta_temperatura_fase_r_ug2" size=10 value="{{usina.alerta_temperatura_fase_r_ug2}}"/></td>
                <td><input id="limite_temperatura_fase_r_ug2" name="limite_temperatura_fase_r_ug2" size=10 value="{{usina.limite_temperatura_fase_r_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Fase S</td>
                <td><input id="alerta_temperatura_fase_s_ug1" name="alerta_temperatura_fase_s_ug1" size=10 value="{{usina.alerta_temperatura_fase_s_ug1}}"/></td>
                <td><input id="limite_temperatura_fase_s_ug1" name="limite_temperatura_fase_s_ug1" size=10 value="{{usina.limite_temperatura_fase_s_ug1}}"/></td>
                <td><input id="alerta_temperatura_fase_s_ug2" name="alerta_temperatura_fase_s_ug2" size=10 value="{{usina.alerta_temperatura_fase_s_ug2}}"/></td>
                <td><input id="limite_temperatura_fase_s_ug2" name="limite_temperatura_fase_s_ug2" size=10 value="{{usina.limite_temperatura_fase_s_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Fase T</td>
                <td><input id="alerta_temperatura_fase_t_ug1" name="alerta_temperatura_fase_t_ug1" size=10 value="{{usina.alerta_temperatura_fase_t_ug1}}"/></td>
                <td><input id="limite_temperatura_fase_t_ug1" name="limite_temperatura_fase_t_ug1" size=10 value="{{usina.limite_temperatura_fase_t_ug1}}"/></td>
                <td><input id="alerta_temperatura_fase_t_ug2" name="alerta_temperatura_fase_t_ug2" size=10 value="{{usina.alerta_temperatura_fase_t_ug2}}"/></td>
                <td><input id="limite_temperatura_fase_t_ug2" name="limite_temperatura_fase_t_ug2" size=10 value="{{usina.limite_temperatura_fase_t_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Núcleo Gerador</td>
                <td><input id="alerta_temperatura_nucleo_gerador_1_ug1" name="alerta_temperatura_nucleo_gerador_1_ug1" size=10 value="{{usina.alerta_temperatura_nucleo_gerador_1_ug1}}"/></td>
                <td><input id="limite_temperatura_nucleo_gerador_1_ug1" name="limite_temperatura_nucleo_gerador_1_ug1" size=10 value="{{usina.limite_temperatura_nucleo_gerador_1_ug1}}"/></td>
                <td><input id="alerta_temperatura_nucleo_gerador_1_ug2" name="alerta_temperatura_nucleo_gerador_1_ug2" size=10 value="{{usina.alerta_temperatura_nucleo_gerador_1_ug2}}"/></td>
                <td><input id="limite_temperatura_nucleo_gerador_1_ug2" name="limite_temperatura_nucleo_gerador_1_ug2" size=10 value="{{usina.limite_temperatura_nucleo_gerador_1_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Mancal Guia</td>
                <td><input id="alerta_temperatura_mancal_guia_ug1" name="alerta_temperatura_mancal_guia_ug1" size=10 value="{{usina.alerta_temperatura_mancal_guia_ug1}}"/></td>
                <td><input id="limite_temperatura_mancal_guia_ug1" name="limite_temperatura_mancal_guia_ug1" size=10 value="{{usina.limite_temperatura_mancal_guia_ug1}}"/></td>
                <td><input id="alerta_temperatura_mancal_guia_ug2" name="alerta_temperatura_mancal_guia_ug2" size=10 value="{{usina.alerta_temperatura_mancal_guia_ug2}}"/></td>
                <td><input id="limite_temperatura_mancal_guia_ug2" name="limite_temperatura_mancal_guia_ug2" size=10 value="{{usina.limite_temperatura_mancal_guia_ug2}}"/></td>
            </tr>

            <tr>
                <td>Mancal Guia Interno 1</td>
                <td><input id="alerta_temperatura_mancal_guia_interno_1_ug1" name="alerta_temperatura_mancal_guia_interno_1_ug1" size=10 value="{{usina.alerta_temperatura_mancal_guia_interno_1_ug1}}"/></td>
                <td><input id="limite_temperatura_mancal_guia_interno_1_ug1" name="limite_temperatura_mancal_guia_interno_1_ug1" size=10 value="{{usina.limite_temperatura_mancal_guia_interno_1_ug1}}"/></td>
                <td><input id="alerta_temperatura_mancal_guia_interno_1_ug2" name="alerta_temperatura_mancal_guia_interno_1_ug2" size=10 value="{{usina.alerta_temperatura_mancal_guia_interno_1_ug2}}"/></td>
                <td><input id="limite_temperatura_mancal_guia_interno_1_ug2" name="limite_temperatura_mancal_guia_interno_1_ug2" size=10 value="{{usina.limite_temperatura_mancal_guia_interno_1_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Mancal Guia Interno 2</td>
                <td><input id="alerta_temperatura_mancal_guia_interno_2_ug1" name="alerta_temperatura_mancal_guia_interno_2_ug1" size=10 value="{{usina.alerta_temperatura_mancal_guia_interno_2_ug1}}"/></td>
                <td><input id="limite_temperatura_mancal_guia_interno_2_ug1" name="limite_temperatura_mancal_guia_interno_2_ug1" size=10 value="{{usina.limite_temperatura_mancal_guia_interno_2_ug1}}"/></td>
                <td><input id="alerta_temperatura_mancal_guia_interno_2_ug2" name="alerta_temperatura_mancal_guia_interno_2_ug2" size=10 value="{{usina.alerta_temperatura_mancal_guia_interno_2_ug2}}"/></td>
                <td><input id="limite_temperatura_mancal_guia_interno_2_ug2" name="limite_temperatura_mancal_guia_interno_2_ug2" size=10 value="{{usina.limite_temperatura_mancal_guia_interno_2_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Patins Mancal Combinado 1</td>
                <td><input id="alerta_temperatura_patins_mancal_comb_1_ug1" name="alerta_temperatura_patins_mancal_comb_1_ug1" size=10 value="{{usina.alerta_temperatura_patins_mancal_comb_1_ug1}}"/></td>
                <td><input id="limite_temperatura_patins_mancal_comb_1_ug1" name="limite_temperatura_patins_mancal_comb_1_ug1" size=10 value="{{usina.limite_temperatura_patins_mancal_comb_1_ug1}}"/></td>
                <td><input id="alerta_temperatura_patins_mancal_comb_1_ug2" name="alerta_temperatura_patins_mancal_comb_1_ug2" size=10 value="{{usina.alerta_temperatura_patins_mancal_comb_1_ug2}}"/></td>
                <td><input id="limite_temperatura_patins_mancal_comb_1_ug2" name="limite_temperatura_patins_mancal_comb_1_ug2" size=10 value="{{usina.limite_temperatura_patins_mancal_comb_1_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Patins Mancal Combinado 2</td>
                <td><input id="alerta_temperatura_patins_mancal_comb_2_ug1" name="alerta_temperatura_patins_mancal_comb_2_ug1" size=10 value="{{usina.alerta_temperatura_patins_mancal_comb_2_ug1}}"/></td>
                <td><input id="limite_temperatura_patins_mancal_comb_2_ug1" name="limite_temperatura_patins_mancal_comb_2_ug1" size=10 value="{{usina.limite_temperatura_patins_mancal_comb_2_ug1}}"/></td>
                <td><input id="alerta_temperatura_patins_mancal_comb_2_ug2" name="alerta_temperatura_patins_mancal_comb_2_ug2" size=10 value="{{usina.alerta_temperatura_patins_mancal_comb_2_ug2}}"/></td>
                <td><input id="limite_temperatura_patins_mancal_comb_2_ug2" name="limite_temperatura_patins_mancal_comb_2_ug2" size=10 value="{{usina.limite_temperatura_patins_mancal_comb_2_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Mancal Casquilho Combinado</td>
                <td><input id="alerta_temperatura_mancal_casq_comb_ug1" name="alerta_temperatura_mancal_casq_comb_ug1" size=10 value="{{usina.alerta_temperatura_mancal_casq_comb_ug1}}"/></td>
                <td><input id="limite_temperatura_mancal_casq_comb_ug1" name="limite_temperatura_mancal_casq_comb_ug1" size=10 value="{{usina.limite_temperatura_mancal_casq_comb_ug1}}"/></td>
                <td><input id="alerta_temperatura_mancal_casq_comb_ug2" name="alerta_temperatura_mancal_casq_comb_ug2" size=10 value="{{usina.alerta_temperatura_mancal_casq_comb_ug2}}"/></td>
                <td><input id="limite_temperatura_mancal_casq_comb_ug2" name="limite_temperatura_mancal_casq_comb_ug2" size=10 value="{{usina.limite_temperatura_mancal_casq_comb_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Mancal Contra Escora Combinado</td>
                <td><input id="alerta_temperatura_mancal_contra_esc_comb_ug1" name="alerta_temperatura_mancal_contra_esc_comb_ug1" size=10 value="{{usina.alerta_temperatura_mancal_contra_esc_comb_ug1}}"/></td>
                <td><input id="limite_temperatura_mancal_contra_esc_comb_ug1" name="limite_temperatura_mancal_contra_esc_comb_ug1" size=10 value="{{usina.limite_temperatura_mancal_contra_esc_comb_ug1}}"/></td>
                <td><input id="alerta_temperatura_mancal_contra_esc_comb_ug2" name="alerta_temperatura_mancal_contra_esc_comb_ug2" size=10 value="{{usina.alerta_temperatura_mancal_contra_esc_comb_ug2}}"/></td>
                <td><input id="limite_temperatura_mancal_contra_esc_comb_ug2" name="limite_temperatura_mancal_contra_esc_comb_ug2" size=10 value="{{usina.limite_temperatura_mancal_contra_esc_comb_ug2}}"/></td>
            </tr>
                
            <tr>
                <td>Pressão Entrada Turbina</td>
                <td><input id="alerta_pressao_turbina_ug1" name="alerta_pressao_turbina_ug1" size=10 value="{{usina.alerta_pressao_turbina_ug1}}"/></td>
                <td><input id="limite_pressao_turbina_ug1" name="limite_pressao_turbina_ug1" size=10 value="{{usina.limite_pressao_turbina_ug1}}"/></td>
                <td><input id="alerta_pressao_turbina_ug2" name="alerta_pressao_turbina_ug2" size=10 value="{{usina.alerta_pressao_turbina_ug2}}"/></td>
                <td><input id="limite_pressao_turbina_ug2" name="limite_pressao_turbina_ug2" size=10 value="{{usina.limite_pressao_turbina_ug2}}"/></td>

            </tr>
        </table>
    </div>
    <b>Salvar parâmetros: </b>
    <input type="submit" value="Salvar"/>
</form>
<br>
<br>
<br>
<form method='post' action='/parametros_moa/adicionar/'>
    {% csrf_token %}
    <div style="margin-bottom: 20px;">
        <h3>Adicionar contatos para sobreaviso:</h3>
        <label>Nome: &nbsp;&nbsp;&nbsp;</label>
        <input id="nome" name="nome" size=10 value="{{contato.nome}}"/></td>
        <br>
        <label>Telefone: </label>
        <input type="tel" id="numero" name="numero" size=10 value="{{contato.numero}}"/></td>
        <br>
        <br>
        <label>Data início: </label>
        <input type="date" id="data_inicio" name="data_inicio" size=6 value="{{contato.data_inicio}}"/></td>
        <label> &nbsp;Horário: </label>
        <input type="time" id="ts_inicio" name="ts_inicio" size=4 value="{{contato.ts_inicio}}"/></td>
        <br>
        <label>Data fim: &ensp;&nbsp;</label>
        <input type="date" id="data_fim" name="data_fim" size=6 value="{{contato.data_fim}}"/></td>
        <label> &nbsp;Horário: </label>
        <input type="time" id="ts_fim" name="ts_fim" size=4 value="{{contato.ts_fim}}"/></td>
        <br>
        <br>
        <b>Adicionar contato:</b>
        <input type="submit" value="Adicionar"/>
    </div>
<form action='/parametros_moa/'>
    <div>
        <b>Lista de contatos cadastrados</b>
        <table style="text-align:center" border="solid 1px black">
            <tr>
                <th>Nome</th>
                <th>Número</th>
                <th>Data Início</th>
                <th width="70px">Horário</th>
                <th>Data Fim</th>
                <th width="70px">Horário</th>
            </tr>
            {% for ctt in contato  %}
            <tr>
                <td width="80px">{{ ctt.nome}}</td>
                <td width="120px">{{ ctt.numero}}</td>
                <td width="120px">{{ ctt.data_inicio|date:"d/M/Y" }}</td>
                <td>{{ ctt.ts_inicio}}</td>
                <td width="120px">{{ ctt.data_fim|date:"d/M/Y"}}</td>
                <td>{{ ctt.ts_fim}}</td>
                <td><a href="deletar/{{ctt.id}}">Remover</a></td>
            </tr>
            {% endfor %}
        </table>
    </div>
</form>

{% endblock content %}
